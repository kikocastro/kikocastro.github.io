
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<title>Google Map API V3 Infowindow + Lightbox Examples</title>



<!-- add Slimbox CSS here -->
    <link rel="stylesheet" href="css/slimbox2basic.css" type="text/css" media="screen" />
    
    <!-- If you're using Slimbox, add the JS here -->

     <script type="text/javascript" src="js/jquery.js"></script>
     <script type="text/javascript" src="js/slimbox2.js"></script>
     
     <!-- If you're using Clearbox, add the JS here -->
    <script type="text/javascript" src="clearbox.js"></script>
    
     <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
     
     

<script type="text/javascript">

// ***************************************************************

// This custom Clearbox array is used in the example for marker 6 
// Note: see the full list and description of the 13 parameter types at http://www.clearbox.hu

// ***************************************************************
  
CB_Gallery=new Array(); // creates the array
CB_Gallery[0]='myphotos'; // name of the gallery

CB_Gallery[1]=new Array(); // array of first item:

CB_Gallery[1][0]='images/image-1.jpg'; // the url of the item
CB_Gallery[1][1]='image'; // the type of the item (values: flash, html, iframe, image, inner, quicktime, winmedia)
CB_Gallery[1][2]='Leaves'; // the title or caption of the item 
CB_Gallery[1][3]=450; // the width of the item 
CB_Gallery[1][4]=338; // the height of the item 
CB_Gallery[1][5]='images/image-1-thumb.jpg'; // the thumbnail url of the item 
CB_Gallery[1][8]='This is a comment'; // the comment of the item (comment parameter)
CB_Gallery[1][9]='off'; // the closeonh parameter (if it is off, clearbox won't close if you click on the background.)
CB_Gallery[1][10]='images/image-1-highres.jpg'; // the download url of the item (adds a nifty button for extra downloadable content)

CB_Gallery[2]=new Array(); // array of second item:

CB_Gallery[2][0]='images/image-2.jpg'; 
CB_Gallery[2][1]='image'; 
CB_Gallery[2][2]='Oranges'; 
CB_Gallery[2][5]='images/image-2-thumb.jpg';
CB_Gallery[2][8]='This is a comment'; 

CB_Gallery[3]=new Array(); // array of third item:

CB_Gallery[3][0]='images/road1.jpg'; 
CB_Gallery[3][1]='image'; 
CB_Gallery[3][2]='Sign 1'; 
CB_Gallery[3][5]='images/road1-thumb.jpg';
CB_Gallery[3][8]='This is a comment'; 


CB_Gallery[4]=new Array(); // array of fourth item:

CB_Gallery[4][0]='images/road2.jpg'; 
CB_Gallery[4][1]='image'; 
CB_Gallery[4][2]='Sign 2'; 
CB_Gallery[4][5]='images/road2-thumb.jpg';
CB_Gallery[4][8]='This is a comment'; 

  </script>

</head>


<script type="text/javascript">


// global "map" variable
      var map = null;
      var bounds = null;
      var infowindow = null;


// create the markers 

var markers = [
  ['<h3>Slimbox: Single Image</h3>', 39.751033, -104.999065, 38, "<div class=\"infowindow\"><p>This example produces a lightbox for a single image.</p><a href=\"images/image-1.jpg\" onclick='jQuery.slimbox([[\"images/image-1.jpg\", \"my caption\"]], 0);return false' rel=\"lightbox\" ><img src=\"images/image-1-thumb.jpg\"></a><br /><br /></div>" ],  ['<h3>Slimbox: Image Slideshow</h3>', 39.751033, -104.949065, 2, "<div class=\"infowindow\"><p>This example produces a lightbox for an image array.</p><a href=\"images/image-2.jpg\" onclick='jQuery.slimbox([[\"images/image-2.jpg\", \"caption 1\"], [\"images/image-1.jpg\", \"caption 2\"]], 0);return false' rel=\"lightbox-groupname\" ><img src=\"images/image-2-thumb.jpg\"><img src=\"images/image-1-thumb.jpg\"></a><br /><br /></div>"],
  ['<h3>Clearbox: Single Image</h3>', 39.751033, -104.899065, 4, "<div class=\"infowindow\"><p>This example produces a lightbox for a single image.<br />It uses <strong>clearbox</strong> instead of slimbox.<br /><br />NOTE! The clearbox.js file should be moved to your<br /> primary directory or edit the clearbox.js file accordingly.</p><a href=\"images/image-2.jpg\" onclick='CB_Open(\"href= images/image-2.jpg,,title=caption 1\");return false' rel=\"clearbox\"><img src=\"images/image-2-thumb.jpg\"></a><br /><br /></div>"], 
  ['<h3>Clearbox: Image Gallery</h3>', 39.751033, -104.849065, 5, "<div class=\"infowindow\"><p>This example produces a lightbox for an image gallery.<br />It uses <strong>clearbox</strong> instead of slimbox.<br /><br />NOTE! The clearbox.js file should be moved to your<br /> primary directory or edit the clearbox.js file accordingly.<br />Also, resize buttons don't work in IE6 per the developer.</p> <a href=\"images/image-2.jpg\" onclick='CB_Open(\"gallery=groupname,,href=images/image-2.jpg,,title=caption 2\");return false' rel=\"clearbox[gallery=groupname,,href=images/image-2.jpg,,title=caption 2]\"><img src=\"images/image-2-thumb.jpg\"></a> <a href=\"images/image-1.jpg\" onclick='CB_Open(\"gallery=groupname,,href=images/image-1.jpg,,title=caption 1\");return false' rel=\"clearbox[gallery=groupname,,href=images/image-1.jpg,,title=caption 1]\"><img src=\"images/image-1-thumb.jpg\"></a><br /><br /></div>"],
  ['<h3>Clearbox: Rich Content</h3>', 39.751033, -104.799065, 3, "<div class=\"infowindow\"><p>This example produces a lightbox for a rich content<br />such as YouTube videos, Flash or iframe content.<br />It uses <strong>clearbox</strong> instead of slimbox.</p><a href=\"images/image-5-thumb.jpg\" onclick='CB_Open(\"href=http://www.youtube.com/v/suxjuZUwsy8,,tnhrf=nopreview,,width=600,,height=500\");return false' rel=\"clearbox\"><img src=\"images/image-5-thumb.jpg\"></a><br /><br /></div>"],
  ['<h3>Clearbox: Custom Array</h3>', 39.751033, -104.749065, 3, "<div class=\"infowindow\"><p>This example produces a lightbox for a  gallery using a custom <strong>clearbox</strong> array. </p><a href=\"images/road1.jpg\" onclick='CB_Open(\"gallery=myphotos,,href=images/road1.jpg\");return false' rel=\"clearbox[gallery=myphotos,,href=images/road1.jpg]\"><img src=\"images/road1-thumb.jpg\"></a><a href=\"images/image-1.jpg\" onclick='CB_Open(\"gallery=myphotos,,href=images/image-2.jpg\");return false' rel=\"clearbox[gallery=myphotos,,href=images/image-2.jpg]\"><img src=\"images/image-2-thumb.jpg\"></a><br /><br /></div>"]
  
];



function initialize() {
  var myOptions = {
    zoom: 10,
    center: new google.maps.LatLng(39.78110197709871, -104.8678857421875),
    mapTypeId: google.maps.MapTypeId.ROADMAP
  }
  var map = new google.maps.Map(document.getElementById("map_canvas"),
                                myOptions);

  setMarkers(map, markers);
}

function setMarkers(map, locations) {
  // Add markers to the map

  // Marker sizes are expressed as a Size of X,Y
  // where the origin of the image (0,0) is located
  // in the top left of the image.

  // Origins, anchor positions and coordinates of the marker
  // increase in the X direction to the right and in
  // the Y direction down.
  var image = new google.maps.MarkerImage('images/beachflag.png',
      // This marker is 20 pixels wide by 32 pixels tall.
      new google.maps.Size(20, 32),
      // The origin for this image is 0,0.
      new google.maps.Point(0,0),
      // The anchor for this image is the base of the flagpole at 0,32.
      new google.maps.Point(0, 32));
  var shadow = new google.maps.MarkerImage('images/beachflag_shadow.png',
      // The shadow image is larger in the horizontal dimension
      // while the position and offset are the same as for the main image.
      new google.maps.Size(37, 32),
      new google.maps.Point(0,0),
      new google.maps.Point(0, 32));
      // Shapes define the clickable region of the icon.
      // The type defines an HTML &lt;area&gt; element 'poly' which
      // traces out a polygon as a series of X,Y points. The final
      // coordinate closes the poly by connecting to the first
      // coordinate.
  var shape = {
      coord: [1, 1, 1, 20, 18, 20, 18 , 1],
      type: 'poly'
  };
  for (var i = 0; i < locations.length; i++) {
    var mymarker = locations[i];
    var myLatLng = new google.maps.LatLng(mymarker[1], mymarker[2]);
    var marker = new google.maps.Marker({
        position: myLatLng,
        map: map,
        shadow: shadow,
        icon: image,
        shape: shape,
        title: mymarker[0],
    html:  "<p>" + mymarker[0] + "</p>" + mymarker[4], 
        zIndex: mymarker[3]
    });
  

  // create a content "shell" for the infowindow
  var contentString = "Some content";

            var infowindow = new google.maps.InfoWindow({
                content: contentString
            });

    
            google.maps.event.addListener(marker, "click", function () {
       

    // close any open infowindows      
        infowindow.close();
     
               infowindow.setContent(this.html);
                infowindow.open(map, this);
                infowindow.zIndex(10);
            });     
  }
}

// replace the inline body onload event handler with a DOM listener
      google.maps.event.addDomListener(window, 'load', initialize);

</script>

<body>

  <div id="container" style="float:left; margin-right: 10px;">

  <div id="map_canvas" style="width: 550px; height: 525px; border: 1px solid #ccc; margin-top:10px;"></div>
  
    </div>
    <div>
    
<p>Example: Google Maps API v.3 + Infowindow Lightboxes</p> 
<p><em>You may freely adapt this code to your projects.</em></p>  
<p><strong>SLIMBOX</strong> (<a href="http://www.digitalia.be/software/slimbox">www.digitalia.be/software/slimbox</a>)<br />Marker 1 = single image<br />Marker 2 = image slideshow</p>
<p><strong>CLEARBOX</strong> (<a href="http://www.clearbox.hu/">www.clearbox.hu</a>)<br />Marker 3 = single image<br />Markers 4a&#47;4b = image slideshows<br />Marker 5 = kittens (video)<br />Marker 6 = custom array...or <a href="images/image-1.jpg" 
onclick='CB_Open("gallery=myphotos,,href=images/image-2.jpg");return false'>link from elsewhere</a></p>
<p><strong>COLORBOX</strong> <a href="example_map_colorbox_v3.html">Click here for an example</a> (loads a new map)</p>
<p>Back:<br /><a href='http://www.umaitech.com/cms/?p=41'>Getting Lightbox and GMap to Play Nice Together: How? Slimbox</a><br /><a href="http://www.umaitech.com/">Home</a></p>
 </div>
</body>

</html>
